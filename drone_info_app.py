import streamlit as st

st.set_page_config(page_title="ë“œë¡  ì¶”ì²œ + êµ¬ì¡°/ë†ì—… í†µí•© ì•ˆë‚´", layout="wide")
st.title("ğŸ›©ï¸ ë“œë¡  ì¶”ì²œ + êµ¬ì¡°/ë†ì—… í™œìš© í†µí•© í”„ë¡œê·¸ë¨")

st.markdown("ì‚¬ìš©ìì˜ **ì˜ˆì‚°**, **ì´í•´ ìˆ˜ì¤€**, **í™œìš© ë¶„ì•¼**ì— ë”°ë¼ ì ì ˆí•œ ë“œë¡ ì„ ì¶”ì²œí•˜ê³ , **ë†ì—… ë°©ì œ ë° êµ¬ì¡° êµ¬ë‚œ ë“œë¡  ì¢…ë¥˜**ë„ ì•ˆë‚´í•©ë‹ˆë‹¤.")

# -------------------------------
# ì‚¬ìš©ì ì…ë ¥
# -------------------------------
st.header("ğŸ” ë“œë¡  ì¶”ì²œ ì¡°ê±´ ì„¤ì •")

level = st.radio("ğŸ“˜ ë“œë¡  ì´í•´ ìˆ˜ì¤€", ["ì…ë¬¸ì", "ì¤‘ê¸‰ì", "ì „ë¬¸ê°€"])
budget = st.number_input("ğŸ’° ì˜ˆì‚° ì…ë ¥ (â‚©)", min_value=10000, max_value=100000000, value=1000000, step=50000)
category = st.selectbox("ğŸ“Œ ê´€ì‹¬ ë¶„ì•¼ ì„ íƒ", ["ì…ë¬¸/ì—°ìŠµìš©", "ì´¬ì˜", "FPV ë¹„í–‰", "ë†ì—… ë°©ì œ", "êµ¬ì¡°/ì¬ë‚œ", "ë¬¼ë¥˜/ë°°ì†¡"])

# -------------------------------
# ë“œë¡  ë°ì´í„°
# -------------------------------
drone_db = [
    {"model": "DJI Mini 4K", "category": "ì…ë¬¸/ì—°ìŠµìš©", "desc": "ì´ˆê²½ëŸ‰, ì…ë¬¸ììš©, 4K ì´¬ì˜", "price": 365000, "level": "ì…ë¬¸ì", "link": "https://store.dji.com/product/dji-mini-2-se"},
    {"model": "Xiaomi E88 Pro", "category": "ì…ë¬¸/ì—°ìŠµìš©", "desc": "ê°€ì„±ë¹„ ì—°ìŠµìš© ë“œë¡ ", "price": 15000, "level": "ì…ë¬¸ì", "link": "https://www.aliexpress.com/item/1005005046354100.html"},
    {"model": "DJI Air 2S", "category": "ì´¬ì˜", "desc": "1ì¸ì¹˜ ì„¼ì„œ, 5.4K ì˜ìƒ ì´¬ì˜", "price": 891000, "level": "ì¤‘ê¸‰ì", "link": "https://store.dji.com/product/dji-air-2s"},
    {"model": "DJI Avata", "category": "FPV ë¹„í–‰", "desc": "FPV ì „ìš© ê³ ì† ë“œë¡ ", "price": 1450000, "level": "ì¤‘ê¸‰ì", "link": "https://store.dji.com/product/dji-avata"},
    {"model": "DJI Agras T10", "category": "ë†ì—… ë°©ì œ", "desc": "10L íƒ±í¬, ìë™ ë°©ì œ ê²½ë¡œ", "price": 7000000, "level": "ì „ë¬¸ê°€", "link": "https://www.dji.com/kr/t10"},
    {"model": "DJI Agras T40", "category": "ë†ì—… ë°©ì œ", "desc": "ëŒ€ë©´ì ìš© 40L ë°©ì œ ë“œë¡ ", "price": 18000000, "level": "ì „ë¬¸ê°€", "link": "https://www.dji.com/kr/t40"},
    {"model": "DJI Mavic 3 Thermal", "category": "êµ¬ì¡°/ì¬ë‚œ", "desc": "ì—´í™”ìƒ + ì¤Œ ì¹´ë©”ë¼ íƒ‘ì¬", "price": 6000000, "level": "ì „ë¬¸ê°€", "link": "https://www.dji.com/kr/mavic-3-enterprise"},
    {"model": "DJI Matrice 30", "category": "êµ¬ì¡°/ì¬ë‚œ", "desc": "ë‹¤ì¤‘ ì„¼ì„œ + RTK + ìš°ì²œë¹„í–‰ ê°€ëŠ¥", "price": 17000000, "level": "ì „ë¬¸ê°€", "link": "https://www.dji.com/kr/matrice-30"},
    {"model": "Zipline Drone", "category": "ë¬¼ë¥˜/ë°°ì†¡", "desc": "ê³ ì •ìµ ê¸°ë°˜, ì¥ê±°ë¦¬ ë°°ì†¡", "price": 99999999, "level": "ì „ë¬¸ê°€", "link": "https://flyzipline.com"},
]

# -------------------------------
# í•„í„°ë§
# -------------------------------
filtered = [
    d for d in drone_db
    if d["category"] == category and d["price"] <= budget and (
        level == "ì…ë¬¸ì" and d["level"] == "ì…ë¬¸ì" or
        level == "ì¤‘ê¸‰ì" and d["level"] in ["ì…ë¬¸ì", "ì¤‘ê¸‰ì"] or
        level == "ì „ë¬¸ê°€"
    )
]

# -------------------------------
# ì¶”ì²œ ê²°ê³¼
# -------------------------------
st.header("ğŸ“¦ ì¶”ì²œ ë“œë¡  ê²°ê³¼")

if filtered:
    for d in filtered:
        st.subheader(f"{d['model']} â€” â‚©{d['price']:,}")
        st.write(f"**ì„¤ëª…:** {d['desc']}")
        st.markdown(f"[ğŸ”— êµ¬ë§¤ ë§í¬]({d['link']})")
        st.markdown("---")
else:
    st.warning("í•´ë‹¹ ì¡°ê±´ì— ë§ëŠ” ë“œë¡ ì´ ì—†ìŠµë‹ˆë‹¤. ì˜ˆì‚°ì´ë‚˜ ìˆ˜ì¤€ì„ ì¡°ì •í•´ë³´ì„¸ìš”.")

# -------------------------------
# ë†ì—… ë°©ì œ ë° êµ¬ì¡° êµ¬ë‚œ ë“œë¡  ì†Œê°œ
# -------------------------------
st.header("ğŸŒ¾ğŸš¨ ë†ì—… ë°©ì œ ë° êµ¬ì¡° êµ¬ë‚œ ë“œë¡  ì •ë³´")

with st.expander("ğŸŒ¾ ë†ì—… ë°©ì œìš© ë“œë¡  ì¢…ë¥˜"):
    st.markdown("""
    ### âœ… DJI Agras ì‹œë¦¬ì¦ˆ
    - **T10 / T20 / T40**: 10~40L ëŒ€ìš©ëŸ‰ íƒ±í¬  
    - ìë™ ê²½ë¡œ ë¹„í–‰, ì¥ì• ë¬¼ ê°ì§€, RTK GPS ì§€ì›  
    - [ğŸ”— Agras T10 ìƒì„¸ë³´ê¸°](https://www.dji.com/kr/t10) / [ğŸ”— Agras T40](https://www.dji.com/kr/t40)

    ### âœ… êµ­ë‚´ ë†ì—… íŠ¹í™” ê¸°ì¢…
    - í—¬ì…€ M ì‹œë¦¬ì¦ˆ, í¼ìŠ¤í…, í¬ìœ ë“œë¡  ë“±  
    - ë†í˜‘ ì—°ê³„, êµ­ì‚° ê¸°ìˆ  ê¸°ë°˜ A/S  
    """)

with st.expander("ğŸš¨ êµ¬ì¡°/êµ¬ë‚œìš© ë“œë¡  ì¢…ë¥˜"):
    st.markdown("""
    ### âœ… DJI Mavic 3 Thermal
    - ì—´í™”ìƒ + ì¤Œ ì¹´ë©”ë¼ íƒ‘ì¬  
    - ì‹¤ì¢…ì ìˆ˜ìƒ‰, í™”ì¬ ê°ì‹œ ë“±  
    - [ğŸ”— ì œí’ˆ ë§í¬](https://www.dji.com/kr/mavic-3-enterprise)

    ### âœ… DJI Matrice 30 / 300 RTK
    - ë‹¤ì¤‘ ì„¼ì„œ (ì—´í™”ìƒ + ê±°ë¦¬ì¸¡ì • + RGB)  
    - ìš°ì²œ/ì•¼ê°„/ë„ì‹¬ ë¹„í–‰ ê°€ëŠ¥  
    - [ğŸ”— Matrice 30 ë§í¬](https://www.dji.com/kr/matrice-30)

    ### âœ… Zipline ê³ ì •ìµ ë“œë¡ 
    - í˜ˆì•¡, ë°±ì‹  ê¸´ê¸‰ ë°°ì†¡  
    - ê³ ì† ì¥ê±°ë¦¬ ë¹„í–‰  
    - [ğŸ”— Zipline ë§í¬](https://flyzipline.com)
    """)

# -------------------------------
# ë¹„í–‰ ì›ë¦¬
# -------------------------------
st.header("âœˆï¸ ë“œë¡  ë¹„í–‰ ì›ë¦¬ (Pitch, Roll, Yaw)")

st.markdown("""
**Pitch**, **Roll**, **Yaw**ëŠ” ë“œë¡ ì˜ íšŒì „ ìš´ë™ì„ ì„¤ëª…í•˜ëŠ” í•µì‹¬ ìš©ì–´ì…ë‹ˆë‹¤.

| ìš©ì–´ | ì¶• | íšŒì „ ë°©í–¥ | ì„¤ëª… |
|------|----|-------------|------|
| **Pitch (í”¼ì¹˜)** | Yì¶• | ì•ë’¤ ê¸°ìš¸ê¸° | ì•ë’¤ ë°©í–¥ìœ¼ë¡œ ê¸°ìš¸ì–´ì§€ëŠ” íšŒì „ |
| **Roll (ë¡¤)** | Xì¶• | ì¢Œìš° ê¸°ìš¸ê¸° | ì¢Œìš°ë¡œ ê¸°ìš¸ì–´ì§€ëŠ” íšŒì „ |
| **Yaw (ìš”ìš°)** | Zì¶• | ì¤‘ì‹¬ì¶• íšŒì „ | ê¸°ì²´ ì¤‘ì‹¬ì¶•ì„ ê¸°ì¤€ìœ¼ë¡œ ì¢Œìš° íšŒì „ |

â¡ï¸ ì´ íšŒì „ë“¤ì„ ì¡°í•©í•˜ì—¬ ë“œë¡ ì€ ìƒí•˜ì¢Œìš° ì´ë™, íšŒì „ ë¹„í–‰ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
""")

# -------------------------------
# ìœ ì˜ì‚¬í•­
# -------------------------------
with st.expander("ğŸ“‹ ë“œë¡  ê´€ë ¨ ê·œì œ ì•ˆë‚´"):
    st.markdown("""
    - 250g ì´ˆê³¼: **ê¸°ì²´ ë“±ë¡ í•„ìˆ˜**  
    - 2kg ì´ˆê³¼: **ì¡°ì¢…ì ìê²©ì¦ í•„ìš”**  
    - ì•¼ê°„Â·ë„ì‹¬Â·ë¹„ê°€ì‹œê¶Œ ë¹„í–‰: **ì‚¬ì „ í—ˆê°€ í•„ìš”**
    """)

st.success("âœ… ëª¨ë“  ì¶”ì²œê³¼ ì •ë³´ ì•ˆë‚´ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë” ë§ì€ ì •ë³´ê°€ í•„ìš”í•˜ë©´ ë§ì”€í•´ì£¼ì„¸ìš”.")
